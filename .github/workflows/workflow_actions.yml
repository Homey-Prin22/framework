# This is a basic workflow to upload files 
# from GitHub to server via GitHub Actions
name: workflow_actions
run-name: ${{ github.actor }} is learning GitHub Actions!

# Controls when the workflow will run
on:

  # Triggers the workflow on push request event 
  # but only for the specific branch
  push:
    branches: [ main ]

# A workflow run is made up of one or more jobs 
# that can run sequentially or in parallel
jobs:
  upload_files:
    runs-on: ubuntu-latest
    name: Upload a builded file.
    steps:
    - name: Checkout
      uses: actions/checkout@v2.3.4
    - name: Upload Files
      id: upload
      uses: Creepios/sftp-action@v1.0.3
      with:
        host: '193.205.129.120'
        port: 63426
        username: 'estorti'
        password: '${{ secrets.PASSWORD}}'
        localPath: './'
        remotePath: '/VOL200GB/test_emanuele'

